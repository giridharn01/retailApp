{"version":3,"file":"static/js/124.9680efa8.chunk.js","mappings":"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","sources":["pages/common/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { apiRequest } from '../../utils/api';\n\nconst HomePage = () => {\n  const { user, isAdmin } = useAuth();\n  const location = useLocation();\n  const [featuredProducts, setFeaturedProducts] = useState([]);\n  const [services, setServices] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchHomeData();\n  }, []);\n\n  // Refetch data when navigating back to home page\n  useEffect(() => {\n    if (location.pathname === '/') {\n      fetchHomeData();\n    }\n  }, [location.pathname]);\n\n  const fetchHomeData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n\n      // Fetch featured products (limit to 6 most recent or popular products)\n      const productsRes = await apiRequest('/products?limit=6&sort=-createdAt');\n      \n      // Fetch service types for services section\n      const servicesRes = await apiRequest('/service-types');\n\n      setFeaturedProducts(productsRes.data || []);\n      setServices(servicesRes.data || []);\n    } catch (err) {\n      console.error('Error fetching home data:', err);\n      setError('Failed to load some content. Please refresh the page.');\n      \n      // Fallback to static data if API fails\n      setFeaturedProducts([\n        {\n          _id: 'fallback-1',\n          name: 'Sample Product',\n          description: 'High-quality product for your needs',\n          price: 999,\n          image: 'https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80'\n        }\n      ]);\n\n      setServices([\n        {\n          _id: 'service-1',\n          name: 'Electrical Services',\n          description: 'Professional electrical solutions'\n        },\n        {\n          _id: 'service-2',\n          name: 'Hardware Supply',\n          description: 'Quality hardware supplies'\n        }\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getServiceIcon = (serviceName) => {\n    const iconMap = {\n      'electrical': '⚡',\n      'hardware': '🔧',\n      'agri': '🌾',\n      'agricultural': '🌾',\n      'tech': '💻',\n      'technology': '💻',\n      'service': '🔧',\n      'repair': '🔧',\n      'supply': '📦'\n    };\n\n    const serviceLower = serviceName.toLowerCase();\n    for (const [key, icon] of Object.entries(iconMap)) {\n      if (serviceLower.includes(key)) {\n        return icon;\n      }\n    }\n    return '⚙️'; // Default icon\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Hero Section */}\n      <div className=\"relative bg-gradient-to-r from-blue-600 to-blue-800\">\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-800 mix-blend-multiply\" />\n        </div>\n        <div className=\"relative max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-32\">\n          <div className=\"text-center\">\n            <h1 className=\"text-4xl font-extrabold tracking-tight text-white sm:text-5xl md:text-6xl\">\n              <span className=\"block\">Palani andavar</span>\n              <span className=\"block text-yellow-400 mt-2\">Electrical • Hardware • Agri-Tech</span>\n            </h1>\n            <p className=\"mt-6 text-xl text-blue-100 max-w-3xl mx-auto\">\n              Your trusted partner for innovative electrical solutions, quality hardware, and cutting-edge agricultural technology.\n            </p>\n            <div className=\"mt-10 flex justify-center gap-4\">\n              <Link\n                to=\"/products\"\n                className=\"inline-block bg-yellow-400 text-blue-900 px-8 py-3 rounded-md font-semibold hover:bg-yellow-300 transition-colors\"\n              >\n                Explore Products\n              </Link>\n              <Link\n                to=\"/service-request\"\n                className=\"inline-block bg-white text-blue-600 px-8 py-3 rounded-md font-semibold hover:bg-blue-50 transition-colors\"\n              >\n                Request Service\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Services Section */}\n      {!isAdmin && (\n        <div className=\"py-20 bg-white\">\n          <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8\">\n            <div className=\"text-center\">\n              <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n                Our Services\n              </h2>\n              <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n                Comprehensive solutions for all your electrical, hardware, and agricultural needs\n              </p>\n            </div>\n\n            {error && (\n              <div className=\"mt-6 rounded-md bg-yellow-50 p-4\">\n                <div className=\"text-sm text-yellow-700\">{error}</div>\n              </div>\n            )}\n\n            <div className=\"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-4\">\n              {services.map((service) => (\n                <div\n                  key={service._id}\n                  className=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow border border-gray-100\"\n                >\n                  <div className=\"p-8\">\n                    <div className=\"text-5xl mb-6\">{getServiceIcon(service.name)}</div>\n                    <h3 className=\"text-xl font-semibold text-gray-900 mb-3\">\n                      {service.name}\n                    </h3>\n                    <p className=\"text-gray-600 leading-relaxed\">\n                      {service.description || 'Professional service for all your needs'}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Featured Products Section */}\n      <div className=\"py-20 bg-gray-50\">\n        <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-extrabold text-gray-900 sm:text-4xl\">\n              Featured Products\n            </h2>\n            <p className=\"mt-4 text-lg text-gray-600 max-w-2xl mx-auto\">\n              Discover our latest and most popular products for your home, business, and farm\n            </p>\n          </div>\n\n          <div className=\"mt-16 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3\">\n            {featuredProducts.map((product) => (\n              <div\n                key={product._id}\n                className=\"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow border border-gray-100\"\n              >\n                <div className=\"aspect-w-16 aspect-h-9\">\n                  <img\n                    src={product.image || 'https://images.unsplash.com/photo-1625246333195-78d9c38ad449?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80'}\n                    alt={product.name}\n                    className=\"w-full h-64 object-cover\"\n                  />\n                </div>\n                <div className=\"p-8\">\n                  <h3 className=\"text-xl font-semibold text-gray-900 mb-3\">\n                    {product.name}\n                  </h3>\n                  <p className=\"text-gray-600 mb-6\">\n                    {product.description || 'High-quality product for your needs'}\n                  </p>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-2xl font-bold text-blue-600\">\n                      ₹{product.price}\n                    </span>\n                    <Link\n                      to={`/products/${product._id}`}\n                      className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors\"\n                    >\n                      View Details\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {featuredProducts.length === 0 && (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500\">No products available at the moment.</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* CTA Section */}\n      {!isAdmin && (\n        <div className=\"bg-blue-600\">\n          <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-20\">\n            <div className=\"text-center\">\n              <h2 className=\"text-3xl font-extrabold text-white sm:text-4xl\">\n                Need Professional Help?\n              </h2>\n              <p className=\"mt-4 text-lg text-blue-100 max-w-2xl mx-auto\">\n                Our team of experts is ready to assist you with any electrical, hardware, or agri-tech needs.\n                Get in touch today for a consultation.\n              </p>\n              <div className=\"mt-8\">\n                <Link\n                  to=\"/service-request\"\n                  className=\"inline-block bg-white text-blue-600 px-8 py-3 rounded-md font-semibold hover:bg-blue-50 transition-colors\"\n                >\n                  Request Service\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HomePage;"],"names":["HomePage","user","isAdmin","useAuth","location","useLocation","featuredProducts","setFeaturedProducts","useState","services","setServices","loading","setLoading","error","setError","useEffect","fetchHomeData","pathname","async","productsRes","apiRequest","servicesRes","data","err","console","_id","name","description","price","image","getServiceIcon","serviceName","iconMap","serviceLower","toLowerCase","key","icon","Object","entries","includes","_jsx","className","children","_jsxs","Link","to","map","service","product","src","alt","concat","length"],"sourceRoot":""}