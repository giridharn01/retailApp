"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[241],{241:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var a=t(555),i=t(43),l=t(536),r=t(579);const n=i.memo(()=>{const[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)([]),[c,m]=(0,i.useState)(!0),[d,o]=(0,i.useState)(null),[x,u]=(0,i.useState)(null),[p,h]=(0,i.useState)("service-types"),[b,g]=(0,i.useState)(!1),[y,f]=(0,i.useState)(null),[v,j]=(0,i.useState)({name:"",description:"",basePrice:"",estimatedDuration:""}),[N,w]=(0,i.useState)(!1),[k,A]=(0,i.useState)(null),[C,q]=(0,i.useState)({name:"",description:"",category:""}),S=(0,i.useCallback)(async()=>{try{m(!0);const[e,t]=await Promise.all([(0,l.A)("/service-types"),(0,l.A)("/equipment-types")]);s(e.data||[]),n(t.data||[])}catch(e){o(e.message)}finally{m(!1)}},[]);(0,i.useEffect)(()=>{S()},[S]);const D=(0,i.useCallback)(async e=>{e.preventDefault();try{o(null),u(null);const e=(0,a.A)((0,a.A)({},v),{},{basePrice:parseFloat(v.basePrice),estimatedDuration:parseFloat(v.estimatedDuration)});if(y){const t=await(0,l.A)("/service-types/".concat(y._id),"PUT",e);s(e=>e.map(e=>e._id===y._id?t.data:e)),u("Service type updated successfully!")}else{const t=await(0,l.A)("/service-types","POST",e);s(e=>[...e,t.data]),u("Service type created successfully!")}T(),setTimeout(()=>u(null),3e3)}catch(t){o(t.message)}},[v,y]),E=(0,i.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this service type?"))try{await(0,l.A)("/service-types/".concat(e),"DELETE"),s(s=>s.filter(s=>s._id!==e))}catch(t){o(t.message)}},[]),T=(0,i.useCallback)(()=>{j({name:"",description:"",basePrice:"",estimatedDuration:""}),f(null),g(!1)},[]),P=(0,i.useCallback)(async e=>{e.preventDefault();try{if(k)await(0,l.A)("/equipment-types/".concat(k._id),"PUT",C),n(e=>e.map(e=>e._id===k._id?(0,a.A)((0,a.A)({},e),C):e));else{const e=await(0,l.A)("/equipment-types","POST",C);n(s=>[...s,e.data])}F()}catch(s){o(s.message)}},[C,k]),_=(0,i.useCallback)(async e=>{if(window.confirm("Are you sure you want to delete this equipment type?"))try{await(0,l.A)("/equipment-types/".concat(e),"DELETE"),n(s=>s.filter(s=>s._id!==e))}catch(s){o(s.message)}},[]),F=(0,i.useCallback)(()=>{q({name:"",description:"",category:""}),A(null),w(!1)},[]);return c?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:[(0,r.jsx)("div",{className:"md:flex md:items-center md:justify-between",children:(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Service & Equipment Management"})})}),d&&(0,r.jsx)("div",{className:"mt-4 rounded-md bg-red-50 p-4",children:(0,r.jsx)("div",{className:"text-sm text-red-700",children:d})}),x&&(0,r.jsx)("div",{className:"mt-4 rounded-md bg-green-50 p-4",children:(0,r.jsx)("div",{className:"text-sm text-green-700",children:x})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,r.jsxs)("button",{onClick:()=>h("service-types"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("service-types"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Service Types (",e.length,")"]}),(0,r.jsxs)("button",{onClick:()=>h("equipment-types"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("equipment-types"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Equipment Types (",t.length,")"]})]})})}),"service-types"===p&&(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,r.jsxs)("div",{className:"sm:flex-auto",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Service Types"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage the types of services you offer to customers."})]}),(0,r.jsxs)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:[(0,r.jsx)("button",{onClick:()=>S(),className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto mr-3",children:"Refresh"}),(0,r.jsx)("button",{onClick:()=>g(!0),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto",children:"Add Service Type"})]})]}),(0,r.jsx)("div",{className:"mt-8 flex flex-col",children:(0,r.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,r.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Service Name"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Description"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Base Price"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Duration"}),(0,r.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,r.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:e.name}),(0,r.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:e.description}),(0,r.jsxs)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["\u20b9",e.basePrice]}),(0,r.jsxs)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:[e.estimatedDuration," hours"]}),(0,r.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,r.jsx)("button",{onClick:()=>{f(e),j({name:e.name,description:e.description,basePrice:e.basePrice,estimatedDuration:e.estimatedDuration}),g(!0)},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>E(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id))})]})})})})})]}),"equipment-types"===p&&(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,r.jsxs)("div",{className:"sm:flex-auto",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Equipment Types"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Manage the types of equipment you service."})]}),(0,r.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,r.jsx)("button",{onClick:()=>w(!0),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto",children:"Add Equipment Type"})})]}),(0,r.jsx)("div",{className:"mt-8 flex flex-col",children:(0,r.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,r.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Equipment Name"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Description"}),(0,r.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Category"}),(0,r.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,r.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:e.name}),(0,r.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:e.description}),(0,r.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.category}),(0,r.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,r.jsx)("button",{onClick:()=>{A(e),q({name:e.name,description:e.description,category:e.category}),w(!0)},className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>_(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id))})]})})})})})]})]}),b&&(0,r.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("form",{onSubmit:D,children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:y?"Edit Service Type":"Add New Service Type"}),(0,r.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"service-name",className:"block text-sm font-medium text-gray-700",children:"Service Name"}),(0,r.jsx)("input",{type:"text",id:"service-name",value:v.name,onChange:e=>j((0,a.A)((0,a.A)({},v),{},{name:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"service-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{id:"service-description",value:v.description,onChange:e=>j((0,a.A)((0,a.A)({},v),{},{description:e.target.value})),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"base-price",className:"block text-sm font-medium text-gray-700",children:"Base Price (\u20b9)"}),(0,r.jsx)("input",{type:"number",id:"base-price",value:v.basePrice,onChange:e=>j((0,a.A)((0,a.A)({},v),{},{basePrice:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"Duration (hours)"}),(0,r.jsx)("input",{type:"number",id:"duration",value:v.estimatedDuration,onChange:e=>j((0,a.A)((0,a.A)({},v),{},{estimatedDuration:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]})]})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:y?"Update":"Create"}),(0,r.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:T,children:"Cancel"})]})]})})]})}),N&&(0,r.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,r.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,r.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,r.jsxs)("form",{onSubmit:P,children:[(0,r.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,r.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,r.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:k?"Edit Equipment Type":"Add New Equipment Type"}),(0,r.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"equipment-name",className:"block text-sm font-medium text-gray-700",children:"Equipment Name"}),(0,r.jsx)("input",{type:"text",id:"equipment-name",value:C.name,onChange:e=>q((0,a.A)((0,a.A)({},C),{},{name:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"equipment-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{id:"equipment-description",value:C.description,onChange:e=>q((0,a.A)((0,a.A)({},C),{},{description:e.target.value})),rows:3,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"equipment-category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,r.jsxs)("select",{id:"equipment-category",value:C.category,onChange:e=>q((0,a.A)((0,a.A)({},C),{},{category:e.target.value})),className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select a category"}),(0,r.jsx)("option",{value:"Electrical",children:"Electrical"}),(0,r.jsx)("option",{value:"Hardware",children:"Hardware"}),(0,r.jsx)("option",{value:"Agri-Tech",children:"Agri-Tech"}),(0,r.jsx)("option",{value:"Solar",children:"Solar"}),(0,r.jsx)("option",{value:"Automation",children:"Automation"})]})]})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:k?"Update":"Create"}),(0,r.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:F,children:"Cancel"})]})]})})]})})]})})}}]);
//# sourceMappingURL=241.9b3a0f1c.chunk.js.map