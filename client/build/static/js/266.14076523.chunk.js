"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[266],{266:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var l=t(43),a=t(45),r=t(603),d=t(579);const i=()=>{const{cart:e,loading:s,updateCartItem:t,removeFromCart:i}=(0,r._)(),c=(0,a.Zp)(),[n,o]=(0,l.useState)(null),m=async(e,s)=>{if(!(s<1)){o(e);try{await t(e,s)}catch(l){console.error("Error updating quantity:",l)}finally{o(null)}}};return s?(0,d.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):0===e.items.length?(0,d.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\uded2"}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,d.jsx)("p",{className:"text-gray-600 mb-8",children:"Looks like you haven't added any items to your cart yet."}),(0,d.jsx)("button",{onClick:()=>c("/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Shopping"})]})}):(0,d.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Shopping Cart"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,d.jsx)("div",{className:"lg:col-span-2",children:(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Cart Items (",e.items.length,")"]}),e.items.map(e=>(0,d.jsxs)("div",{className:"flex items-center py-4 border-b border-gray-200 last:border-b-0",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-20 h-20",children:(0,d.jsx)("img",{src:e.product.image||"/default-product.jpg",alt:e.product.name,className:"w-full h-full object-cover rounded-lg"})}),(0,d.jsxs)("div",{className:"ml-4 flex-1",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.product.name}),(0,d.jsxs)("p",{className:"text-gray-600",children:["\u20b9",e.price]}),(0,d.jsxs)("p",{className:"text-sm text-gray-500",children:["Stock: ",e.product.stock]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("button",{onClick:()=>m(e.product._id,e.quantity-1),disabled:n===e.product._id||e.quantity<=1,className:"w-8 h-8 rounded-md border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"-"}),(0,d.jsx)("span",{className:"w-12 text-center font-medium",children:n===e.product._id?"...":e.quantity}),(0,d.jsx)("button",{onClick:()=>m(e.product._id,e.quantity+1),disabled:n===e.product._id||e.quantity>=e.product.stock,className:"w-8 h-8 rounded-md border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]}),(0,d.jsxs)("div",{className:"text-right ml-4",children:[(0,d.jsxs)("p",{className:"text-lg font-semibold",children:["\u20b9",e.price*e.quantity]}),(0,d.jsx)("button",{onClick:()=>(async e=>{try{await i(e)}catch(s){console.error("Error removing item:",s)}})(e.product._id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]})]},e.product._id))]})})}),(0,d.jsx)("div",{className:"lg:col-span-1",children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,d.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20b9",e.subtotal]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Tax (18% GST)"}),(0,d.jsxs)("span",{className:"font-medium",children:["\u20b9",e.tax]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,d.jsx)("span",{className:"font-medium",children:0===e.shippingCost?"Free":"\u20b9".concat(e.shippingCost)})]}),(0,d.jsx)("div",{className:"border-t pt-3",children:(0,d.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{children:["\u20b9",e.totalAmount]})]})})]}),(0,d.jsx)("button",{onClick:()=>{c("/checkout")},disabled:0===e.items.length,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Proceed to Checkout"}),(0,d.jsx)("button",{onClick:()=>c("/products"),className:"w-full mt-3 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Continue Shopping"})]})})]})]})}}}]);
//# sourceMappingURL=266.14076523.chunk.js.map