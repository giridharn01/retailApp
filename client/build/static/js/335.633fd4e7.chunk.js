"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[335],{335:(e,s,t)=>{t.r(s),t.d(s,{default:()=>n});var a=t(43),r=t(45),c=t(536),l=t(579);const n=a.memo(()=>{const[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[h,g]=(0,a.useState)("name:asc"),[p,b]=(0,a.useState)(1),[f,y]=(0,a.useState)(1),[v,j]=(0,a.useState)([]),N=(0,a.useCallback)(async()=>{try{const e=await(0,c.A)("/products/categories");j(e.data||[])}catch(e){console.error("Error fetching categories:",e),j([])}},[]),w=(0,a.useCallback)(async()=>{try{n(!0);const e=new URLSearchParams({page:p,limit:12,search:d,category:m,sort:h}),t=await(0,c.A)("/products?".concat(e));s(t.data||[]),y(Math.ceil((t.count||0)/12))}catch(e){o(e.message),s([])}finally{n(!1)}},[p,d,m,h]);(0,a.useEffect)(()=>{N()},[N]),(0,a.useEffect)(()=>{w()},[w]);const S=e=>{b(e)};return t?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-red-600",children:["Error: ",i]})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:[(0,l.jsxs)("div",{className:"mb-8 space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)("input",{type:"text",placeholder:"Search products...",value:d,onChange:e=>{u(e.target.value),b(1)},className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsxs)("select",{value:m,onChange:e=>{x(e.target.value),b(1)},className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"All Categories"}),v.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),(0,l.jsxs)("select",{value:h,onChange:e=>{g(e.target.value),b(1)},className:"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"name:asc",children:"Sort by Name"}),(0,l.jsx)("option",{value:"price:asc",children:"Price: Low to High (\u20b9)"}),(0,l.jsx)("option",{value:"price:desc",children:"Price: High to Low (\u20b9)"}),(0,l.jsx)("option",{value:"createdAt:desc",children:"Newest First"})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e&&e.length>0?e.map(e=>{var s;return(0,l.jsxs)(r.N_,{to:"/products/".concat(e._id),className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[(0,l.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full",children:(0,l.jsx)("img",{src:e.image||"/placeholder.png",alt:e.name,className:"w-full h-48 object-cover"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:e.category}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["\u20b9",(null===(s=e.price)||void 0===s?void 0:s.toFixed(2))||"0.00"]}),(0,l.jsx)("span",{className:"text-sm ".concat(e.stock>0?"text-green-600":"text-red-600"),children:e.stock>0?"In Stock":"Out of Stock"})]})]})]},e._id)}):(0,l.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"No products found"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Try adjusting your search or filter criteria"})]})}),f>1&&(0,l.jsx)("div",{className:"mt-8 flex justify-center",children:(0,l.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,l.jsx)("button",{onClick:()=>S(p-1),disabled:1===p,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ".concat(1===p?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:"Previous"}),[...Array(f)].map((e,s)=>(0,l.jsx)("button",{onClick:()=>S(s+1),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ".concat(p===s+1?"z-10 bg-blue-50 border-blue-500 text-blue-600":"text-gray-500 hover:bg-gray-50"),children:s+1},s+1)),(0,l.jsx)("button",{onClick:()=>S(p+1),disabled:p===f,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ".concat(p===f?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:"Next"})]})})]})})})}}]);
//# sourceMappingURL=335.633fd4e7.chunk.js.map