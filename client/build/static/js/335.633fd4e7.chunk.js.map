{"version":3,"file":"static/js/335.633fd4e7.chunk.js","mappings":"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","sources":["pages/common/ProductListPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { apiRequest } from '../../utils/api';\n\nconst ProductListPage = React.memo(() => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [sortBy, setSortBy] = useState('name:asc');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [categories, setCategories] = useState([]);\n  const productsPerPage = 12;\n\n  const fetchCategories = useCallback(async () => {\n    try {\n      const res = await apiRequest('/products/categories');\n      setCategories(res.data || []);\n    } catch (err) {\n      console.error('Error fetching categories:', err);\n      setCategories([]);\n    }\n  }, []);\n\n  const fetchProducts = useCallback(async () => {\n    try {\n      setLoading(true);\n      const queryParams = new URLSearchParams({\n        page: currentPage,\n        limit: productsPerPage,\n        search: searchTerm,\n        category: selectedCategory,\n        sort: sortBy\n      });\n\n      const res = await apiRequest(`/products?${queryParams}`);\n      setProducts(res.data || []);\n      setTotalPages(Math.ceil((res.count || 0) / productsPerPage));\n    } catch (err) {\n      setError(err.message);\n      setProducts([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [currentPage, searchTerm, selectedCategory, sortBy]);\n\n  useEffect(() => {\n    fetchCategories();\n  }, [fetchCategories]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n\n  const handleSearch = (e) => {\n    setSearchTerm(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handleCategoryChange = (e) => {\n    setSelectedCategory(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handleSortChange = (e) => {\n    setSortBy(e.target.value);\n    setCurrentPage(1);\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-red-600\">Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8\">\n        {/* Filters and Search */}\n        <div className=\"mb-8 space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-4\">\n          <div className=\"flex-1\">\n            <input\n              type=\"text\"\n              placeholder=\"Search products...\"\n              value={searchTerm}\n              onChange={handleSearch}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div className=\"flex space-x-4\">\n            <select\n              value={selectedCategory}\n              onChange={handleCategoryChange}\n              className=\"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">All Categories</option>\n              {categories.map((category) => (\n                <option key={category} value={category}>\n                  {category}\n                </option>\n              ))}\n            </select>\n            <select\n              value={sortBy}\n              onChange={handleSortChange}\n              className=\"px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"name:asc\">Sort by Name</option>\n              <option value=\"price:asc\">Price: Low to High (₹)</option>\n              <option value=\"price:desc\">Price: High to Low (₹)</option>\n              <option value=\"createdAt:desc\">Newest First</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Product Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {products && products.length > 0 ? (\n            products.map((product) => (\n              <Link\n                key={product._id}\n                to={`/products/${product._id}`}\n                className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300\"\n              >\n                <div className=\"aspect-w-1 aspect-h-1 w-full\">\n                  <img\n                    src={product.image || '/placeholder.png'}\n                    alt={product.name}\n                    className=\"w-full h-48 object-cover\"\n                  />\n                </div>\n                <div className=\"p-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                    {product.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-500 mb-2\">{product.category}</p>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-lg font-bold text-blue-600\">\n                      ₹{product.price?.toFixed(2) || '0.00'}\n                    </span>\n                    <span\n                      className={`text-sm ${\n                        product.stock > 0 ? 'text-green-600' : 'text-red-600'\n                      }`}\n                    >\n                      {product.stock > 0 ? 'In Stock' : 'Out of Stock'}\n                    </span>\n                  </div>\n                </div>\n              </Link>\n            ))\n          ) : (\n            <div className=\"col-span-full text-center py-12\">\n              <h3 className=\"text-lg font-medium text-gray-900\">No products found</h3>\n              <p className=\"mt-2 text-sm text-gray-500\">\n                Try adjusting your search or filter criteria\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"mt-8 flex justify-center\">\n            <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n              <button\n                onClick={() => handlePageChange(currentPage - 1)}\n                disabled={currentPage === 1}\n                className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\n                  currentPage === 1\n                    ? 'text-gray-300 cursor-not-allowed'\n                    : 'text-gray-500 hover:bg-gray-50'\n                }`}\n              >\n                Previous\n              </button>\n              {[...Array(totalPages)].map((_, index) => (\n                <button\n                  key={index + 1}\n                  onClick={() => handlePageChange(index + 1)}\n                  className={`relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ${\n                    currentPage === index + 1\n                      ? 'z-10 bg-blue-50 border-blue-500 text-blue-600'\n                      : 'text-gray-500 hover:bg-gray-50'\n                  }`}\n                >\n                  {index + 1}\n                </button>\n              ))}\n              <button\n                onClick={() => handlePageChange(currentPage + 1)}\n                disabled={currentPage === totalPages}\n                className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\n                  currentPage === totalPages\n                    ? 'text-gray-300 cursor-not-allowed'\n                    : 'text-gray-500 hover:bg-gray-50'\n                }`}\n              >\n                Next\n              </button>\n            </nav>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n});\n\nexport default ProductListPage;"],"names":["React","products","setProducts","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","sortBy","setSortBy","currentPage","setCurrentPage","totalPages","setTotalPages","categories","setCategories","fetchCategories","useCallback","async","res","apiRequest","data","err","console","fetchProducts","queryParams","URLSearchParams","page","limit","search","category","sort","concat","Math","ceil","count","message","useEffect","handlePageChange","_jsx","className","children","_jsxs","type","placeholder","value","onChange","e","target","map","length","product","_product$price","Link","to","_id","src","image","alt","name","price","toFixed","stock","onClick","disabled","Array","_","index"],"sourceRoot":""}