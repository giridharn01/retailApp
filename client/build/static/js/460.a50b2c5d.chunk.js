"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[460],{460:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(555),l=t(43),r=t(45),n=t(603),i=t(536),d=t(579);const c=()=>{const{cart:e,clearCart:s,refreshCart:t}=(0,n._)(),c=(0,r.Zp)(),[o,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)({name:"",phone:"",street:"",city:"",state:"",zipCode:"",country:"India"}),[h,p]=(0,l.useState)("cod"),[b,g]=(0,l.useState)(""),y=e=>{x((0,a.A)((0,a.A)({},u),{},{[e.target.name]:e.target.value}))};return 0===e.items.length?(0,d.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),(0,d.jsx)("p",{className:"text-gray-600 mb-8",children:"Please add items to your cart before checkout."}),(0,d.jsx)("button",{onClick:()=>c("/products"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Shopping"})]})}):(0,d.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Checkout"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"Shipping Information"}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u.name&&u.phone&&u.street&&u.city&&u.state&&u.zipCode){m(!0);try{const e={shippingAddress:u,paymentMethod:h,notes:b},t=await(0,i.A)("/orders","POST",e);await s(!0),c("/orders/".concat(t.data._id),{state:{order:t.data}})}catch(t){console.error("Error creating order:",t),alert("Error creating order. Please try again.")}finally{m(!1)}}else alert("Please fill in all required fields")},className:"space-y-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,d.jsx)("input",{type:"text",name:"name",value:u.name,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),(0,d.jsx)("input",{type:"tel",name:"phone",value:u.phone,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),(0,d.jsx)("input",{type:"text",name:"street",value:u.street,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,d.jsx)("input",{type:"text",name:"city",value:u.city,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,d.jsx)("input",{type:"text",name:"state",value:u.state,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code *"}),(0,d.jsx)("input",{type:"text",name:"zipCode",value:u.zipCode,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,d.jsx)("input",{type:"text",name:"country",value:u.country,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"paymentMethod",value:"cod",checked:"cod"===h,onChange:e=>p(e.target.value),className:"mr-2"}),"Cash on Delivery"]}),(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"radio",name:"paymentMethod",value:"online",checked:"online"===h,onChange:e=>p(e.target.value),className:"mr-2"}),"Online Payment (Coming Soon)"]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Notes (Optional)"}),(0,d.jsx)("textarea",{name:"notes",value:b,onChange:e=>g(e.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Any special instructions for delivery..."})]}),(0,d.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Processing...":"Place Order"})]})]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,d.jsx)("div",{className:"space-y-3 mb-6",children:e.items.map(e=>(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("img",{src:e.product.image||"/default-product.jpg",alt:e.product.name,className:"w-12 h-12 object-cover rounded mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium",children:e.product.name}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.quantity]})]})]}),(0,d.jsxs)("p",{className:"font-medium",children:["\u20b9",e.price*e.quantity]})]},e.product._id))}),(0,d.jsxs)("div",{className:"border-t pt-4 space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,d.jsxs)("span",{children:["\u20b9",e.subtotal]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Tax (18% GST)"}),(0,d.jsxs)("span",{children:["\u20b9",e.tax]})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,d.jsx)("span",{children:0===e.shippingCost?"Free":"\u20b9".concat(e.shippingCost)})]}),(0,d.jsx)("div",{className:"border-t pt-2",children:(0,d.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{children:["\u20b9",e.totalAmount]})]})})]})]})})]})]})}}}]);
//# sourceMappingURL=460.a50b2c5d.chunk.js.map