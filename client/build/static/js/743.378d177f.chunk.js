"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[743],{124:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var l=t(555),a=t(43),r=t(536),i=t(579);const c=a.memo(()=>{const[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0),[n,d]=(0,a.useState)(null),[o,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(null),[h,p]=(0,a.useState)({name:"",description:"",price:"",category:"",stock:"",image:""}),g=(0,a.useCallback)(async()=>{try{c(!0);const e=await(0,r.A)("/products");s(e.data||[])}catch(e){d(e.message)}finally{c(!1)}},[]);(0,a.useEffect)(()=>{g()},[g]);const b=e=>{const{name:s,value:t}=e.target;p(e=>(0,l.A)((0,l.A)({},e),{},{[s]:t}))},f=()=>{p({name:"",description:"",price:"",category:"",stock:"",image:""}),u(null)};return t?(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,i.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8",children:[(0,i.jsxs)("div",{className:"md:flex md:items-center md:justify-between",children:[(0,i.jsx)("div",{className:"flex-1 min-w-0",children:(0,i.jsx)("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"Product Management"})}),(0,i.jsx)("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:(0,i.jsx)("button",{onClick:()=>{f(),m(!0)},className:"ml-3 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add New Product"})})]}),n&&(0,i.jsx)("div",{className:"mt-4 rounded-md bg-red-50 p-4",children:(0,i.jsx)("div",{className:"text-sm text-red-700",children:n})}),(0,i.jsx)("div",{className:"mt-8 flex flex-col",children:(0,i.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,i.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Product"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Category"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Price"}),(0,i.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Stock"}),(0,i.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,i.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm sm:pl-6",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"h-10 w-10 flex-shrink-0",children:(0,i.jsx)("img",{className:"h-10 w-10 rounded-full object-cover",src:e.image||"https://via.placeholder.com/40",alt:e.name})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,i.jsx)("div",{className:"text-gray-500",children:e.description})]})]})}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.category}),(0,i.jsxs)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:["\u20b9",e.price]}),(0,i.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.stock}),(0,i.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,i.jsx)("button",{onClick:()=>(e=>{u(e),p({name:e.name,description:e.description,price:e.price.toString(),category:e.category,stock:e.stock.toString(),image:e.image}),m(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Edit"}),(0,i.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await(0,r.A)("/products/".concat(e),"DELETE"),s(s=>s.filter(s=>s._id!==e))}catch(t){d(t.message)}})(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e._id))})]})})})})})]}),o&&(0,i.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,i.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,i.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,i.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,i.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(x)await(0,r.A)("/products/".concat(x._id),"PUT",h),s(e=>e.map(e=>e._id===x._id?(0,l.A)((0,l.A)({},e),h):e));else{const e=await(0,r.A)("/products","POST",h);s(s=>[...s,e.data])}m(!1),f()}catch(t){d(t.message)}},children:[(0,i.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,i.jsx)("div",{className:"sm:flex sm:items-start",children:(0,i.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,i.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:x?"Edit Product":"Add New Product"}),(0,i.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),(0,i.jsx)("input",{type:"text",name:"name",id:"name",value:h.name,onChange:b,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,i.jsx)("textarea",{name:"description",id:"description",value:h.description,onChange:b,required:!0,rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price"}),(0,i.jsx)("input",{type:"number",name:"price",id:"price",value:h.price,onChange:b,required:!0,min:"0",step:"0.01",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,i.jsxs)("select",{name:"category",id:"category",value:h.category,onChange:b,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,i.jsx)("option",{value:"",children:"Select a category"}),(0,i.jsx)("option",{value:"electrical",children:"Electrical"}),(0,i.jsx)("option",{value:"hardware",children:"Hardware"}),(0,i.jsx)("option",{value:"agri-tech",children:"Agri-Tech"}),(0,i.jsx)("option",{value:"solar",children:"Solar"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-700",children:"Stock"}),(0,i.jsx)("input",{type:"number",name:"stock",id:"stock",value:h.stock,onChange:b,required:!0,min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Image URL"}),(0,i.jsx)("input",{type:"url",name:"image",id:"image",value:h.image,onChange:b,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]})})}),(0,i.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,i.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:x?"Update Product":"Add Product"}),(0,i.jsx)("button",{type:"button",onClick:()=>{m(!1),f()},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]})]})})]})})]})})}}]);
//# sourceMappingURL=743.378d177f.chunk.js.map